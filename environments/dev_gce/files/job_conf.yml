# This file is managed by Ansible.
# Do not edit this file manually. Any changes will be automatically reverted.

# Optimized for 2-CPU VM
runners:
  local_runner:
    load: galaxy.jobs.runners.local:LocalJobRunner
  slurm:
    load: galaxy.jobs.runners.slurm:SlurmJobRunner
    drmaa_library_path: /usr/lib/slurm-drmaa/lib/libdrmaa.so.1

handling:
  assign:
    - db-skip-locked

execution:
  default: local_env
  environments:
    local_env:
      runner: local_runner
      tmp_dir: true
    cluster:
      runner: slurm
      nativeSpecification: "--partition=debug --ntasks=1"

limits:
  - type: anonymous_user_concurrent_jobs
    value: '1'
  - type: registered_user_concurrent_jobs
    value: '2'

tools:
  - class: local
    environment: local_env

  - id: "bowtieForSmallRNA"
    destination: "cluster"

  - id: "bowtie_index_builder_data_manager"
    destination: "local_env"

  - id: "retrieve_fasta_from_NCBI"
    destination: "cluster"

  - id: "samtools_view"
    destination: "cluster"
